"use strict";var SchedUI={Options:{GetSections:function(e){},GetSchedule:function(e,t,n){},Start:moment(),HeaderFormat:"Do MMM YYYY",LowerFormat:"DD-MMM-YYYY HH:mm",Periods:[{Name:"2 days",Label:"2 days",TimeframePeriod:120,TimeframeOverall:2880,TimeframeHeaders:["Do MMM","HH"],Classes:"time-sch-period-2day"},{Name:"2 weeks",Label:"2 weeks",TimeframePeriod:1440,TimeframeOverall:20160,TimeframeHeaders:["MMM","Do"],Classes:"time-sch-period-2week"}],SelectedPeriod:"2 weeks",Element:$("<div></div>"),MinRowHeight:40,ShowCurrentTime:!0,ShowGoto:!0,ShowToday:!0,Text:{NextButton:"Next",NextButtonTitle:"Next period",PrevButton:"Prev",PrevButtonTitle:"Previous period",TodayButton:"Today",TodayButtonTitle:"Go to today",GotoButton:"Go to",GotoButtonTitle:"Go to specific date",NoElementsToDisplay:"No elements to display"},Events:{ItemMouseEnter:null,ItemMouseLeave:null,ItemClicked:null,ItemDropped:null,ItemResized:null,ItemMovement:null,ItemMovementStart:null,ItemMovementEnd:null,ItemEventClicked:null,ItemEventMouseEnter:null,ItemEventMouseLeave:null},AllowDragging:!1,AllowResizing:!1,DisableOnMove:!0,MaxHeight:null,AppendWeekDaysClasses:!0},Wrapper:null,HeaderWrap:null,TableWrap:null,ContentHeaderWrap:null,ContentWrap:null,TableHeader:null,TableContent:null,SectionWrap:null,Table:null,Sections:{},CachedSectionResult:null,CachedScheduleResult:null,SetupPrototypes:function(){moment.fn.tsAdd=function(e,t){var n;return n="string"==typeof e?moment.duration(+t,e):moment.duration(e,t),this.tsAddOrSubtractDurationFromMoment(this,n,1),this},moment.fn.tsSubtract=function(e,t){var n;return n="string"==typeof e?moment.duration(+t,e):moment.duration(e,t),this.tsAddOrSubtractDurationFromMoment(this,n,-1),this},moment.fn.tsAddOrSubtractDurationFromMoment=function(e,t,n){var i,d=t._milliseconds,a=t._days,s=t._months;d&&e.milliseconds(e.milliseconds()+d*n),a&&e.date(e.date()+a*n),s&&(i=e.date(),e.date(1).month(e.month()+s*n).date(Math.min(i,e.daysInMonth())))}},Override:null,Init:function(e){SchedUI.Override=e||SchedUI.Override;var t=SchedUI.GetUrlHash();SchedUI.SetupPrototypes(),SchedUI.Options.Start=moment(t.start||SchedUI.Options.Start||moment().startOf("day")),SchedUI.Options.SelectedPeriod=t.period||SchedUI.Options.SelectedPeriod,SchedUI.Options.Element.find(".ui-draggable").draggable("destroy"),SchedUI.Options.Element.empty(),SchedUI.Wrapper=$(document.createElement("div")).addClass("time-sch-wrapper").appendTo(SchedUI.Options.Element),SchedUI.HeaderWrap=$(document.createElement("div")).addClass("time-sch-header-wrapper time-sch-clearfix").appendTo(SchedUI.Wrapper),SchedUI.TableWrap=$(document.createElement("div")).addClass("time-sch-table-wrapper").appendTo(SchedUI.Wrapper),SchedUI.CreateCalendar(),SchedUI.FillSections(e)},Reload:function(e){"function"==typeof SchedUI.Options.GetSections?(SchedUI.Init(e),SchedUI.Options.GetSections(function(t){SchedUI.CachedSectionResult=t,SchedUI.Init(e)})):SchedUI.Init(e)},SetUrlHash:function(e,t){var n=[],i=SchedUI.GetUrlHash();i[decodeURIComponent(e)]=decodeURIComponent(t);for(var d in i)i.hasOwnProperty(d)&&n.push(encodeURIComponent(d)+"="+encodeURIComponent(i[d]));window.location.hash="#"+n.join("&")},GetUrlHash:function(){var e=window.location.hash,t={};return e=e.replace("#",""),e.length>0&&e.split("&").forEach(function(e){var n=e.split("=");t[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}),t},GetSelectedPeriod:function(){for(var e,t=0;t<SchedUI.Options.Periods.length;t++)if(SchedUI.Options.Periods[t].Name===SchedUI.Options.SelectedPeriod){e=SchedUI.Options.Periods[t];break}return e||(e=SchedUI.Options.Periods[0],SchedUI.SelectPeriod(e.Name)),e},GetEndOfPeriod:function(e,t){return moment(e).tsAdd("minutes",t.TimeframeOverall)},AddHeaderClasses:function(e,t,n){var i,d,a,s,o,c,r,h,l,m;if(i=SchedUI.TableHeader.find("tr"),void 0!==n&&(i=$(i.get(n))),i.length&&i.length>0){d=$.makeArray(i);for(var S=0;S<d.length;S++){l=!1,r=0,a=$(d[S]),s=$.makeArray(a.find(".time-sch-date-header"));for(var p=0;p<s.length&&!l;p++)o=$(s[p]),h=Number(o.attr("colspan")),h&&!isNaN(h)&&h>0?(c=r?r:0,r=c+h):(c=r?r:0,r=c+1),c===t&&e.addClass("time-sch-header-"+S+"-date-start"),r-1===t&&e.addClass("time-sch-header-"+S+"-date-end"),c<=t&&t<r&&(l=!0,m=p%2===0,e.addClass("time-sch-header-"+S+"-date-column-"+p).addClass("time-sch-header-"+S+"-date-"+(m?"even":"odd")),o.hasClass("time-sch-header-"+S+"-current-time")&&e.addClass("time-sch-header-"+S+"-current-time"))}}},CreateCalendar:function(){var e,t,n,i,d,a,s,o,c,r,h,l,m;l=0,a=SchedUI.GetSelectedPeriod(),s=SchedUI.GetEndOfPeriod(SchedUI.Options.Start,a),i=Math.abs(SchedUI.Options.Start.diff(s,"minutes")),d=i/a.TimeframePeriod,SchedUI.ContentHeaderWrap=$(document.createElement("div")).addClass("time-sch-content-header-wrap").appendTo(SchedUI.TableWrap),SchedUI.ContentWrap=$(document.createElement("div")).addClass("time-sch-content-wrap").appendTo(SchedUI.TableWrap),SchedUI.TableHeader=$(document.createElement("table")).addClass("time-sch-table time-sch-table-header").appendTo(SchedUI.ContentHeaderWrap),SchedUI.TableContent=$(document.createElement("table")).addClass("time-sch-table time-sch-table-content").appendTo(SchedUI.ContentWrap),SchedUI.SectionWrap=$(document.createElement("div")).addClass("time-sch-section-wrapper").appendTo(SchedUI.ContentWrap),a.Classes&&SchedUI.TableWrap.toggleClass(a.Classes,!0);for(var S=0;S<a.TimeframeHeaders.length;S++){c=null,h=null;var p=!0;l=0,m=0,n=a.TimeframeHeaders[S],e=$(document.createElement("tr")).addClass("time-sch-times time-sch-times-header-"+S).appendTo(SchedUI.TableHeader),t=$(document.createElement("td")).addClass("time-sch-section time-sch-section-header").appendTo(e);for(var I=0;I<d;I++){if(o=moment(SchedUI.Options.Start).tsAdd("minutes",I*a.TimeframePeriod),r=o.format(n),h!==r){c&&(t.attr("colspan",l),l=0,moment()>=c&&moment()<o&&t.addClass("time-sch-header-"+S+"-current-time")),c=o,h=r,t=$(document.createElement("td")).data("header-row",S).data("column-count",I).data("column-is-even",p).addClass("time-sch-date time-sch-date-header").append(r).appendTo(e),t.addClass("time-sch-header-"+S+"-date-start").addClass("time-sch-header-"+S+"-date-end").addClass("time-sch-header-"+S+"-date-column-"+m).addClass("time-sch-header-"+S+"-date-"+(m%2===0?"even":"odd")),SchedUI.Options.AppendWeekDaysClasses&&a.TimeframePeriod<=1440&&S>0&&t.addClass("week-day-"+o.day());for(var u=0;u<S;u++)SchedUI.AddHeaderClasses(t,I,u);m+=1}l+=1}t.attr("colspan",l)}SchedUI.FillHeader()},CreateSections:function(e){var t,n,i,d,a,s;for(t=1,a=$.makeArray(SchedUI.TableHeader.find("tr")),s=0;s<a.length;s++)t<$(a[s]).find(".time-sch-date-header").length&&(t=$(a[s]).find(".time-sch-date-header").length);for(s=0;s<e.length;s++){n=$(document.createElement("tr")).addClass("time-sch-section-row").addClass(s%2===0?"time-sch-section-even":"time-sch-section-odd").css("height",SchedUI.Options.MinRowHeight).appendTo(SchedUI.TableContent),d=$(document.createElement("div")).addClass("time-sch-section-container").css("height",SchedUI.Options.MinRowHeight).data("section",e[s]).appendTo(SchedUI.SectionWrap),i=$(document.createElement("td")).addClass("time-sch-section time-sch-section-content").data("section",e[s]).append(e[s].name).appendTo(n);for(var o=0;o<t;o++)i=$(document.createElement("td")).addClass("time-sch-date time-sch-date-content").appendTo(n),SchedUI.AddHeaderClasses(i,o,null);SchedUI.Sections[e[s].id]={row:n,container:d},SchedUI.Options.AppendWeekDaysClasses&&$(".time-sch-content-header-wrap > table tr.time-sch-times-header-1 > td").each(function(e,t){var n=$(t).attr("class"),i=n.indexOf("week-day-");i!==-1&&$(".time-sch-content-wrap > table tr > td:nth-child("+(e+1)+")").addClass(n.substring(i,i+10))})}SchedUI.SectionWrap.css({left:SchedUI.Options.Element.find(".time-sch-section").outerWidth()}),SchedUI.Options.ShowCurrentTime&&SchedUI.ShowCurrentTime()},ShowCurrentTimeHandle:null,ShowCurrentTime:function(){var e,t,n,i,d;SchedUI.ShowCurrentTimeHandle&&clearTimeout(SchedUI.ShowCurrentTimeHandle),e=moment(),d=SchedUI.GetEndOfPeriod(SchedUI.Options.Start,SchedUI.GetSelectedPeriod()),n=Math.abs(SchedUI.Options.Start.diff(d,"minutes")),i=Math.abs(SchedUI.Options.Start.diff(e,"minutes")),t=SchedUI.Options.Element.find(".time-sch-current-time"),t.remove(),e>=SchedUI.Options.Start&&e<=d&&(t=$(document.createElement("div")).addClass("time-sch-current-time").css("left",i/n*100+"%").attr("title",e.format(SchedUI.Options.LowerFormat)).appendTo(SchedUI.SectionWrap)),SchedUI.ShowCurrentTimeHandle=setTimeout(SchedUI.ShowCurrentTime,3e4)},CreateItems:function(e){var t,n,i,d,a,s,o,c,r,h,l,m,S,p,I,u,U,f,v,O,C,E={};for(v=SchedUI.GetSelectedPeriod(),O=SchedUI.GetEndOfPeriod(SchedUI.Options.Start,v),s=Math.abs(SchedUI.Options.Start.diff(O,"minutes")),C=0;C<e.length;C++)if(t=e[C],i=SchedUI.Sections[t.sectionID],i&&(E[t.sectionID]||(E[t.sectionID]=[]),t.start<=O&&t.end>=SchedUI.Options.Start)){I=null;var b=SchedUI.Options.Start.milliseconds();if(S=moment(Math.max(t.start,b)),p=moment(Math.min(t.end,O)),o=S.diff(SchedUI.Options.Start,"minutes"),c=Math.abs(S.diff(p,"minutes")),h=0,l=o/s*100,m=c/s*100,d=$(document.createElement("div")).addClass("time-sch-item "+(t.classes?t.classes:"")).css({top:h,left:l+"%",width:m+"%"}).appendTo(i.container),a=$(document.createElement("div")).addClass("time-sch-item-content").appendTo(d),t.name&&$(document.createElement("div")).append(t.name).appendTo(a),t.events)for(var T=0;T<t.events.length;T++)n=t.events[T],r=n.at.diff(S,"minutes")/c*100,$(document.createElement("div")).addClass("time-sch-item-event "+(n.classes?n.classes:"")).css("left",r+"%").attr("title",n.at.format(SchedUI.Options.LowerFormat)+" - "+n.label).data("event",n).appendTo(a);t.start>=SchedUI.Options.Start&&$(document.createElement("div")).addClass("time-sch-item-start").appendTo(a),t.end<=O&&$(document.createElement("div")).addClass("time-sch-item-end").appendTo(a),t.Element=d;for(var g=0;g<E[t.sectionID].length;g++)if(E[t.sectionID][g].start>t.start){I=g;break}null===I&&(I=E[t.sectionID].length),E[t.sectionID].splice(I,0,t),d.data("item",t),SchedUI.SetupItemEvents(d)}for(var w in E)for(i=SchedUI.Sections[w],C=0;C<E[w].length;C++){var M,P;u=E[w][C];for(var y=0;y<C;y++){var H,G;U=E[w][y],H=U.Element.position().top,G=H+U.Element.outerHeight(),M=u.Element.position().top,P=M+u.Element.outerHeight(),f=(U.start<=u.start&&u.start<=U.end||U.start<=u.end&&u.end<=U.end)&&(H<=M&&M<=G||H<=P&&P<=G),f&&u.Element.css("top",G+1)}P=u.Element.position().top+u.Element.outerHeight()+1,P>i.container.height()&&(i.container.css("height",P),i.row.css("height",P))}},SetupItemEvents:function(e){if(SchedUI.Options.Events.ItemClicked&&e.click(function(e){e.preventDefault(),SchedUI.Options.Events.ItemClicked.call(this,$(this).data("item"))}),SchedUI.Options.Events.ItemMouseEnter&&e.mouseenter(function(e){SchedUI.Options.Events.ItemMouseEnter.call(this,$(this).data("item"))}),SchedUI.Options.Events.ItemMouseLeave&&e.mouseleave(function(e){SchedUI.Options.Events.ItemMouseLeave.call(this,$(this).data("item"))}),SchedUI.Options.AllowDragging&&(e.draggable({helper:"clone",zIndex:1,appendTo:SchedUI.SectionWrap,distance:5,snap:".time-sch-section-container",snapMode:"inner",snapTolerance:10,drag:function(e,t){var n,i,d,a,s,o;SchedUI.Options.Events.ItemMovement&&(a=SchedUI.GetSelectedPeriod(),s=SchedUI.GetEndOfPeriod(SchedUI.Options.Start,a),o=Math.abs(SchedUI.Options.Start.diff(s,"minutes")),n=$(e.target).data("item"),i=moment(SchedUI.Options.Start).tsAdd("minutes",o*(t.helper.position().left/SchedUI.SectionWrap.width())),d=moment(i).tsAdd("minutes",Math.abs(n.start.diff(n.end,"minutes"))),n.start<SchedUI.Options.Start&&(i.tsAdd("minutes",n.start.diff(SchedUI.Options.Start,"minutes")),d.tsAdd("minutes",n.start.diff(SchedUI.Options.Start,"minutes"))),SchedUI.Options.Events.ItemMovement.call(this,n,i,d))},start:function(e,t){$(this).hide(),t.helper.children().not(".time-sch-item-content").remove(),SchedUI.Options.Events.ItemMovementStart&&SchedUI.Options.Events.ItemMovementStart.call(this)},stop:function(e,t){$(this).length&&$(this).show(),SchedUI.Options.Events.ItemMovementEnd&&SchedUI.Options.Events.ItemMovementEnd.call(this)},cancel:".time-sch-item-end, .time-sch-item-start, .time-sch-item-event"}),$(".time-sch-section-container").droppable({greedy:!0,hoverClass:"time-sch-droppable-hover",tolerance:"pointer",drop:function(e,t){var n,i,d,a,s,o,c;s=SchedUI.GetSelectedPeriod(),o=SchedUI.GetEndOfPeriod(SchedUI.Options.Start,s),c=Math.abs(SchedUI.Options.Start.diff(o,"minutes")),n=t.draggable.data("item"),i=$(this).data("section").id,d=moment(SchedUI.Options.Start).tsAdd("minutes",c*(t.helper.position().left/$(this).width())),a=moment(d).tsAdd("minutes",Math.abs(n.start.diff(n.end,"minutes"))),n.start<SchedUI.Options.Start&&(d.tsAdd("minutes",n.start.diff(SchedUI.Options.Start,"minutes")),a.tsAdd("minutes",n.start.diff(SchedUI.Options.Start,"minutes"))),t.draggable.appendTo($(this)),t.draggable.css({left:t.helper.position().left-$(this).position().left,top:t.helper.position().top-$(this).position().top}),SchedUI.Options.DisableOnMove&&(t.draggable.data("uiDraggable")&&t.draggable.draggable("disable"),t.draggable.data("uiResizable")&&t.draggable.resizable("disable")),t.draggable.show(),SchedUI.Options.Events.ItemDropped&&setTimeout(function(){SchedUI.Options.Events.ItemDropped.call(this,n,i,d,a)},0)}})),SchedUI.Options.AllowResizing){var t=null;e.find(".time-sch-item-start").length&&e.find(".time-sch-item-end").length?t="e, w":e.find(".time-sch-item-start").length?t="w":e.find(".time-sch-item-end").length&&(t="e"),t&&e.resizable({handles:t,resize:function(e,t){var n,i,d,a,s,o;SchedUI.Options.Events.ItemMovement&&(a=SchedUI.GetSelectedPeriod(),s=SchedUI.GetEndOfPeriod(SchedUI.Options.Start,a),o=Math.abs(SchedUI.Options.Start.diff(s,"minutes")),n=$(this).data("item"),t.position.left!==t.originalPosition.left?(i=moment(SchedUI.Options.Start).tsAdd("minutes",o*($(this).position().left/SchedUI.SectionWrap.width())),d=n.end):(i=n.start,d=moment(SchedUI.Options.Start).tsAdd("minutes",o*(($(this).position().left+$(this).width())/SchedUI.SectionWrap.width()))),SchedUI.Options.Events.ItemMovement.call(this,n,i,d))},start:function(e,t){$(this).find(".time-sch-item-event").hide(),SchedUI.Options.Events.ItemMovementStart&&SchedUI.Options.Events.ItemMovementStart.call(this)},stop:function(e,t){var n,i,d,a,s,o,c;c=$(this),a=SchedUI.GetSelectedPeriod(),s=SchedUI.GetEndOfPeriod(SchedUI.Options.Start,a),o=Math.abs(SchedUI.Options.Start.diff(s,"minutes")),n=c.data("item"),t.position.left!==t.originalPosition.left?(i=moment(SchedUI.Options.Start).tsAdd("minutes",o*(c.position().left/SchedUI.SectionWrap.width())),d=n.end):(i=n.start,d=moment(SchedUI.Options.Start).tsAdd("minutes",o*((c.position().left+c.width())/SchedUI.SectionWrap.width()))),SchedUI.Options.DisableOnMove&&(c.data("uiDraggable")&&c.draggable("disable"),c.data("uiResizable")&&c.resizable("disable"),c.find(".time-sch-item-event").show()),SchedUI.Options.Events.ItemMovementEnd&&SchedUI.Options.Events.ItemMovementEnd.call(this),SchedUI.Options.Events.ItemResized&&SchedUI.Options.Events.ItemResized.call(this,n,i,d)}})}SchedUI.Options.Events.ItemEventClicked&&e.find(".time-sch-item-event").click(function(e){var t=$(this).closest(".time-sch-item");e.preventDefault(),SchedUI.Options.Events.ItemEventClicked.call(this,$(this).data("event"),t.data("item"))}),SchedUI.Options.Events.ItemEventMouseEnter&&e.find(".time-sch-item-event").mouseenter(function(e){var t=$(this).closest(".time-sch-item");e.preventDefault(),SchedUI.Options.Events.ItemEventMouseEnter.call(this,$(this).data("event"),t.data("item"))}),SchedUI.Options.Events.ItemEventMouseLeave&&e.find(".time-sch-item-event").mouseleave(function(e){var t=$(this).closest(".time-sch-item");e.preventDefault(),SchedUI.Options.Events.ItemEventMouseLeave.call(this,$(this).data("event"),t.data("item"))})},FillSections:function(e){!SchedUI.CachedSectionResult||e?SchedUI.Options.GetSections.call(this,SchedUI.FillSections_Callback):SchedUI.FillSections_Callback(SchedUI.CachedSectionResult)},FillSections_Callback:function(e){SchedUI.CachedSectionResult=e,SchedUI.CreateSections(e),SchedUI.FillSchedule(),0===$(".time-sch-content-wrap > .time-sch-table-content > tbody > tr").length?$(".time-sch-content-wrap").after('<div class="no-elements">'+SchedUI.Options.Text.NoElementsToDisplay+"</div>"):$(".no-elements").remove()},FillSchedule:function(){var e,t;e=SchedUI.GetSelectedPeriod(),t=SchedUI.GetEndOfPeriod(SchedUI.Options.Start,e),SchedUI.Options.GetSchedule.call(this,SchedUI.FillSchedule_Callback,SchedUI.Options.Start,t)},FillSchedule_Callback:function(e){SchedUI.CachedScheduleResult=e,SchedUI.CreateItems(e),$(".time-sch-content-wrap > table > tbody > tr").each(function(e,t){$("div.time-sch-section-wrapper > div.time-sch-section-container:nth-child("+(e+1)+")").attr("style","height:"+$(t).height()+"px;")})},FillHeader:function(){var e,t,n,i,d,a;t=$(document.createElement("div")).addClass("time-sch-period-container"),n=$(document.createElement("div")).addClass("time-sch-time-container"),e=$(document.createElement("div")).addClass("time-sch-title"),SchedUI.HeaderWrap.empty().append(t,n,e),i=SchedUI.GetSelectedPeriod(),d=SchedUI.GetEndOfPeriod(SchedUI.Options.Start,i),e.text(SchedUI.Options.Start.format(SchedUI.Options.HeaderFormat)+" - "+d.tsAdd("minutes",-1).format(SchedUI.Options.HeaderFormat));for(var s=0;s<SchedUI.Options.Periods.length;s++)a=SchedUI.Options.Periods[s],$(document.createElement("a")).addClass("time-sch-period-button time-sch-button").addClass(a.Name===i.Name?"time-sch-selected-button":"").attr("href","#").append(a.Label).data("period",a).click(SchedUI.Period_Clicked).appendTo(t);SchedUI.Options.ShowGoto&&$(document.createElement("a")).addClass("time-sch-time-button time-sch-time-button-goto time-sch-button").attr({href:"#",title:SchedUI.Options.Text.GotoButtonTitle}).append(SchedUI.Options.Text.GotoButton).click(SchedUI.GotoTimeShift_Clicked).appendTo(n),SchedUI.Options.ShowToday&&$(document.createElement("a")).addClass("time-sch-time-button time-sch-time-button-today time-sch-button").attr({href:"#",title:SchedUI.Options.Text.TodayButtonTitle}).append(SchedUI.Options.Text.TodayButton).click(SchedUI.TimeShift_Clicked).appendTo(n),$(document.createElement("a")).addClass("time-sch-time-button time-sch-time-button-prev time-sch-button").attr({href:"#",title:SchedUI.Options.Text.PrevButtonTitle}).append(SchedUI.Options.Text.PrevButton).click(SchedUI.TimeShift_Clicked).appendTo(n),$(document.createElement("a")).addClass("time-sch-time-button time-sch-time-button-next time-sch-button").attr({href:"#",title:SchedUI.Options.Text.NextButtonTitle}).append(SchedUI.Options.Text.NextButton).click(SchedUI.TimeShift_Clicked).appendTo(n)},GotoTimeShift_Clicked:function(e){e.preventDefault(),$(document.createElement("input")).attr("type","text").css({position:"absolute",left:0,bottom:0}).appendTo($(this)).datepicker({onClose:function(){$(this).remove()},onSelect:function(e){SchedUI.Options.Start=moment(e),SchedUI.SetUrlHash("start",SchedUI.Options.Start.toISOString()),"function"==typeof SchedUI.Options.GetSections?SchedUI.Reload(SchedUI.Override):SchedUI.Init(SchedUI.Override)},defaultDate:SchedUI.Options.Start.toDate()}).datepicker("show").hide()},TimeShift_Clicked:function(e){var t;e.preventDefault(),t=SchedUI.GetSelectedPeriod(),$(this).is(".time-sch-time-button-today")?SchedUI.Options.Start=moment().startOf("day"):$(this).is(".time-sch-time-button-prev")?SchedUI.Options.Start.tsAdd("minutes",t.TimeframeOverall*-1):$(this).is(".time-sch-time-button-next")&&SchedUI.Options.Start.tsAdd("minutes",t.TimeframeOverall),SchedUI.SetUrlHash("start",SchedUI.Options.Start.toISOString()),"function"==typeof SchedUI.Options.GetSections?SchedUI.Reload(SchedUI.Override):SchedUI.Init(SchedUI.Override)},SelectPeriod:function(e){SchedUI.Options.SelectedPeriod=e,SchedUI.SetUrlHash("period",SchedUI.Options.SelectedPeriod),"function"==typeof SchedUI.Options.GetSections?SchedUI.Reload(SchedUI.Override):SchedUI.Init(SchedUI.Override)},Period_Clicked:function(e){e.preventDefault(),SchedUI.SelectPeriod($(this).data("period").Name)}};